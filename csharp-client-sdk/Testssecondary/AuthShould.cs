//------------------------------------------------------------------------------
// <auto-generated>
// This code was generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
//
// Changes to this file may cause incorrect behavior and will be lost when
// the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
using System.Threading.Tasks;
using HoistedSecurity;
using HoistedSecurity.Models.Operations;
using HoistedSecurity.Models.Shared;
using Xunit;

public class AuthShould
{
    [Fact]
    public async Task NoAuth()
    {
        CommonHelpers.RecordTest("auth-hoisted-no-auth-retained");

        var sdk = new SDK();

        await sdk.Auth.NoAuthAsync();
    }

    [Fact]
    public async Task BasicAuth()
    {
        CommonHelpers.RecordTest("auth-hoisted-basic-auth");

        var sdk = new SDK(new Security() { Username = "testUser", Password = "testPass" });

        var res = await sdk.Auth.BasicAuthAsync("testPass", "testUser");

        Assert.NotNull(res);
        Assert.True(res.Authenticated);
    }

    [Fact]
    public async Task MultipleMixedOptionsAuth()
    {
        CommonHelpers.RecordTest("auth-hoisted-operation-auth-retained");

        var sdk = new SDK();

        await sdk.AuthNew.MultipleMixedOptionsAuthAsync(
            new MultipleMixedOptionsAuthSecurity()
            {
                BasicAuth = new SchemeBasicAuth() { Username = "testUser", Password = "testPass" },
            },
            new AuthServiceRequestBody()
            {
                BasicAuth = new BasicAuth() { Username = "testUser", Password = "testPass" },
            }
        );
    }
}
