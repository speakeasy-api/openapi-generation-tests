// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package tests

import (
	"context"
	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"
	"math/big"
	openapi "openapi/v2"
	"openapi/v2/pkg/models/operations"
	"openapi/v2/pkg/models/shared"
	"openapi/v2/pkg/types"
	"testing"
)

func TestRequestbodies_RequestBodyDeprecatedRequestBodyRefPost(t *testing.T) {
	recordTest("request-bodies-deprecated-request-body-ref")

	s := openapi.New(
		openapi.WithClient(createTestHTTPClient("requestBodyDeprecatedRequestBodyRefPost")),
	)

	ctx := context.Background()
	res, err := s.RequestBodies.RequestBodyDeprecatedRequestBodyRefPost(ctx, shared.DeprecatedObjectWithExample{
		Str: openapi.String("testvalue"),
	})
	require.NoError(t, err)
	assert.Equal(t, 200, res.StatusCode)
	assert.NotNil(t, res.Object)
	assert.Equal(t, &operations.RequestBodyDeprecatedRequestBodyRefPostResponseBody{
		JSON: shared.DeprecatedObjectWithExample{
			Str: openapi.String("testvalue"),
		},
	}, res.Object)
}

func TestRequestbodies_RequestBodyPostMultipleContentTypesComponentFilteredMultipartFormData(t *testing.T) {
	recordTest("request-bodies-post-multiple-content-types-component-filtered-multipart-form-data")

	s := openapi.New(
		openapi.WithClient(createTestHTTPClient("requestBodyPostMultipleContentTypesComponentFiltered-multipart-form-data")),
	)

	ctx := context.Background()
	res, err := s.RequestBodies.RequestBodyPostMultipleContentTypesComponentFiltered(ctx, shared.SimpleObject{
		Any:        "any",
		Bigint:     big.NewInt(8821239038968084),
		BigintStr:  types.MustNewBigIntFromString("9223372036854775808"),
		Bool:       true,
		BoolOpt:    openapi.Bool(true),
		Date:       types.MustDateFromString("2020-01-01"),
		DateTime:   types.MustTimeFromString("2020-01-01T00:00:00.001Z"),
		Decimal:    types.MustNewDecimalFromString("3.141592653589793"),
		DecimalStr: types.MustNewDecimalFromString("3.14159265358979344719667586"),
		Enum:       shared.EnumOne,
		Float32:    1.1,
		Float64Str: openapi.Float64(1.1),
		Int:        1,
		Int32:      1,
		Int32Enum:  shared.Int32EnumFiftyFive,
		Int64Str:   openapi.Int64(100),
		IntEnum:    shared.IntEnumSecond,
		Num:        1.1,
		Str:        "test",
		StrOpt:     openapi.String("testOptional"),
	})
	require.NoError(t, err)
	assert.Equal(t, 200, res.StatusCode)
	assert.NotNil(t, res.Res)
	assert.Equal(t, &operations.RequestBodyPostMultipleContentTypesComponentFilteredRes{
		JSON: shared.SimpleObject{
			Any:        "any",
			Bigint:     big.NewInt(8821239038968084),
			BigintStr:  types.MustNewBigIntFromString("9223372036854775808"),
			Bool:       true,
			BoolOpt:    openapi.Bool(true),
			Date:       types.MustDateFromString("2020-01-01"),
			DateTime:   types.MustTimeFromString("2020-01-01T00:00:00.001Z"),
			Decimal:    types.MustNewDecimalFromString("3.141592653589793"),
			DecimalStr: types.MustNewDecimalFromString("3.14159265358979344719667586"),
			Enum:       shared.EnumOne,
			Float32:    1.1,
			Float64Str: openapi.Float64(1.1),
			Int:        1,
			Int32:      1,
			Int32Enum:  shared.Int32EnumFiftyFive,
			Int64Str:   openapi.Int64(100),
			IntEnum:    shared.IntEnumSecond,
			Num:        1.1,
			Str:        "test",
			StrOpt:     openapi.String("testOptional"),
		},
	}, res.Res)
}

func TestRequestbodies_RequestBodyPostMultipleContentTypesComponentFilteredApplicationJSON(t *testing.T) {
	recordTest("request-bodies-post-multiple-content-types-component-filtered-application-json")

	s := openapi.New(
		openapi.WithClient(createTestHTTPClient("requestBodyPostMultipleContentTypesComponentFiltered-application-json")),
	)

	ctx := context.Background()
	res, err := s.RequestBodies.RequestBodyPostMultipleContentTypesComponentFiltered(ctx, shared.SimpleObject{
		Any:        "any",
		Bigint:     big.NewInt(8821239038968084),
		BigintStr:  types.MustNewBigIntFromString("9223372036854775808"),
		Bool:       true,
		BoolOpt:    openapi.Bool(true),
		Date:       types.MustDateFromString("2020-01-01"),
		DateTime:   types.MustTimeFromString("2020-01-01T00:00:00.001Z"),
		Decimal:    types.MustNewDecimalFromString("3.141592653589793"),
		DecimalStr: types.MustNewDecimalFromString("3.14159265358979344719667586"),
		Enum:       shared.EnumOne,
		Float32:    1.1,
		Float64Str: openapi.Float64(1.1),
		Int:        1,
		Int32:      1,
		Int32Enum:  shared.Int32EnumFiftyFive,
		Int64Str:   openapi.Int64(100),
		IntEnum:    shared.IntEnumSecond,
		Num:        1.1,
		Str:        "test",
		StrOpt:     openapi.String("testOptional"),
	})
	require.NoError(t, err)
	assert.Equal(t, 200, res.StatusCode)
	assert.NotNil(t, res.Res)
	assert.Equal(t, &operations.RequestBodyPostMultipleContentTypesComponentFilteredRes{
		JSON: shared.SimpleObject{
			Any:        "any",
			Bigint:     big.NewInt(8821239038968084),
			BigintStr:  types.MustNewBigIntFromString("9223372036854775808"),
			Bool:       true,
			BoolOpt:    openapi.Bool(true),
			Date:       types.MustDateFromString("2020-01-01"),
			DateTime:   types.MustTimeFromString("2020-01-01T00:00:00.001Z"),
			Decimal:    types.MustNewDecimalFromString("3.141592653589793"),
			DecimalStr: types.MustNewDecimalFromString("3.14159265358979344719667586"),
			Enum:       shared.EnumOne,
			Float32:    1.1,
			Float64Str: openapi.Float64(1.1),
			Int:        1,
			Int32:      1,
			Int32Enum:  shared.Int32EnumFiftyFive,
			Int64Str:   openapi.Int64(100),
			IntEnum:    shared.IntEnumSecond,
			Num:        1.1,
			Str:        "test",
			StrOpt:     openapi.String("testOptional"),
		},
	}, res.Res)
}

func TestRequestbodies_RequestBodyPostMultipleContentTypesComponentFilteredDefaultTest(t *testing.T) {
	s := openapi.New(
		openapi.WithClient(createTestHTTPClient("requestBodyPostMultipleContentTypesComponentFilteredDefaultTest")),
	)

	ctx := context.Background()
	res, err := s.RequestBodies.RequestBodyPostMultipleContentTypesComponentFilteredDefaultTest(ctx, shared.SimpleObject{
		Any:        "any",
		Bigint:     big.NewInt(8821239038968084),
		BigintStr:  types.MustNewBigIntFromString("9223372036854775808"),
		Bool:       true,
		BoolOpt:    openapi.Bool(true),
		Date:       types.MustDateFromString("2020-01-01"),
		DateTime:   types.MustTimeFromString("2020-01-01T00:00:00.001Z"),
		Decimal:    types.MustNewDecimalFromString("3.141592653589793"),
		DecimalStr: types.MustNewDecimalFromString("3.14159265358979344719667586"),
		Enum:       shared.EnumOne,
		Float32:    1.1,
		Float64Str: openapi.Float64(1.1),
		Int:        1,
		Int32:      1,
		Int32Enum:  shared.Int32EnumFiftyFive,
		Int64Str:   openapi.Int64(100),
		IntEnum:    shared.IntEnumSecond,
		Num:        1.1,
		Str:        "test",
		StrOpt:     openapi.String("testOptional"),
	})
	require.NoError(t, err)
	assert.Equal(t, 200, res.StatusCode)
	assert.NotNil(t, res.Res)
	assert.Equal(t, &operations.RequestBodyPostMultipleContentTypesComponentFilteredDefaultTestRes{
		JSON: shared.SimpleObject{
			Any:        "any",
			Bigint:     big.NewInt(8821239038968084),
			BigintStr:  types.MustNewBigIntFromString("9223372036854775808"),
			Bool:       true,
			BoolOpt:    openapi.Bool(true),
			Date:       types.MustDateFromString("2020-01-01"),
			DateTime:   types.MustTimeFromString("2020-01-01T00:00:00.001Z"),
			Decimal:    types.MustNewDecimalFromString("3.141592653589793"),
			DecimalStr: types.MustNewDecimalFromString("3.14159265358979344719667586"),
			Enum:       shared.EnumOne,
			Float32:    1.1,
			Float64Str: openapi.Float64(1.1),
			Int:        1,
			Int32:      1,
			Int32Enum:  shared.Int32EnumFiftyFive,
			Int64Str:   openapi.Int64(100),
			IntEnum:    shared.IntEnumSecond,
			Num:        1.1,
			Str:        "test",
			StrOpt:     openapi.String("testOptional"),
		},
	}, res.Res)
}

func TestRequestbodies_RequestBodyPostNotNullableNotRequiredStringBody(t *testing.T) {
	recordTest("request-bodies-post-not-nullable-not-required-string-body")

	s := openapi.New(
		openapi.WithClient(createTestHTTPClient("requestBodyPostNotNullableNotRequiredStringBody")),
	)

	ctx := context.Background()
	res, err := s.RequestBodies.RequestBodyPostNotNullableNotRequiredStringBody(ctx, nil)
	require.NoError(t, err)
	assert.Equal(t, 200, res.StatusCode)
	assert.NotNil(t, res.Object)
	assert.Equal(t, &operations.RequestBodyPostNotNullableNotRequiredStringBodyResponseBody{
		Data: "",
	}, res.Object)
}
