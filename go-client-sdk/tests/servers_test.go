// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package tests

import (
	"context"
	"net/http"
	"testing"

	"openapi/pkg/models/operations"

	sdk "openapi"

	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"
)

func TestSelectGlobalServerValid(t *testing.T) {
	recordTest("servers-select-global-server-valid")

	s := sdk.New(sdk.WithServerURL(sdk.ServerList[0]))

	res, err := s.Servers.SelectGlobalServer(context.Background())
	require.NoError(t, err)
	require.NotNil(t, res)
	assert.Equal(t, http.StatusOK, res.StatusCode)
}

func TestSelectGlobalServerBroken(t *testing.T) {
	recordTest("servers-select-global-server-broken")

	s := sdk.New(sdk.WithServerURL(sdk.ServerList[1]))

	res, err := s.Servers.SelectGlobalServer(context.Background())
	assert.Error(t, err)
	assert.Nil(t, res)
}

func TestSelectServerWithIDDefault(t *testing.T) {
	recordTest("servers-select-server-with-id-default")

	s := sdk.New()

	res, err := s.Servers.SelectServerWithID(context.Background())
	require.NoError(t, err)
	require.NotNil(t, res)
	assert.Equal(t, http.StatusOK, res.StatusCode)
}

func TestSelectServerWithIDValid(t *testing.T) {
	recordTest("servers-select-server-with-id-valid")

	s := sdk.New()

	res, err := s.Servers.SelectServerWithID(context.Background(), operations.WithServerURL(operations.SelectServerWithIDServerList[operations.SelectServerWithIDServerValid]))
	require.NoError(t, err)
	require.NotNil(t, res)
	assert.Equal(t, http.StatusOK, res.StatusCode)
}

func TestSelectServerWithIDBroken(t *testing.T) {
	recordTest("servers-select-server-with-id-broken")

	s := sdk.New()

	res, err := s.Servers.SelectServerWithID(context.Background(), operations.WithServerURL(operations.SelectServerWithIDServerList[operations.SelectServerWithIDServerBroken]))
	assert.Error(t, err)
	assert.Nil(t, res)
}

func TestServerWithTemplatesGlobal(t *testing.T) {
	recordTest("servers-server-with-templates-global")

	s := sdk.New(sdk.WithTemplatedServerURL(sdk.ServerList[2], map[string]string{
		"hostname": "localhost",
		"port":     "35123",
	}))

	res, err := s.Servers.ServerWithTemplatesGlobal(context.Background())
	require.NoError(t, err)
	require.NotNil(t, res)
	assert.Equal(t, http.StatusOK, res.StatusCode)
}

func TestServerWithTemplates(t *testing.T) {
	recordTest("servers-server-with-templates")

	s := sdk.New()

	res, err := s.Servers.ServerWithTemplates(context.Background(), operations.WithTemplatedServerURL(operations.ServerWithTemplatesServerList[0], map[string]string{
		"hostname": "localhost",
		"port":     "35123",
	}))
	require.NoError(t, err)
	require.NotNil(t, res)
	assert.Equal(t, http.StatusOK, res.StatusCode)
}
