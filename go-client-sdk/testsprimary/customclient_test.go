// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package tests

import (
	"context"
	"net/http"
	"testing"

	sdk "openapi"

	"github.com/stretchr/testify/assert"
	"github.com/stretchr/testify/require"
)

func TestCustomClientPost(t *testing.T) {
	recordTest("customclient-request-parameters-retained")

	s := sdk.New(sdk.WithClient(NewCustomHeaderClient()))

	res, err := s.CustomClient.CustomClientPost(
		context.Background(),
		"headerValue",
		"pathValue",
		"queryValue",
		nil,
	)

	require.NoError(t, err)
	require.NotNil(t, res)
	assert.Equal(t, http.StatusOK, res.HTTPMeta.Response.StatusCode)
	assert.Equal(t, "http://localhost:35123/anything/customClient/pathValue?queryStringParam=queryValue", res.Res.URL)
	assert.Equal(t, "queryValue", res.Res.Args.QueryStringParam)
	assert.Equal(t, "headerValue", res.Res.Headers["Headerparam"])
	assert.Equal(t, "someValue", res.Res.Headers["X-Custom-Header"])
}
