// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package tests

import (
	"context"
	"testing"

	"openapi/pkg/models/shared"

	sdk "openapi"

	"github.com/stretchr/testify/require"
)

func TestOpenEnumsRoundTrip(t *testing.T) {
	recordTest("open-enums-round-trip")

	s := sdk.New()

	res, err := s.OpenEnums.OpenEnumsPostUnrecognized(context.Background(), &shared.ThemeRequestOpaque{
		Color:     sdk.String("purple"),
		Icon:      sdk.String("tick"),
		HeroWidth: sdk.Int64(2160),
	})
	require.NoError(t, err)

	body := res.ThemeResponse
	require.NotNil(t, body)

	theme := body.JSON
	wantColor := shared.Color("purple")
	require.Equal(t, &wantColor, theme.Color)
	wantIcon := shared.IconTick
	require.Equal(t, &wantIcon, theme.Icon)
	wantHeroWidth := shared.HeroWidth(2160)
	require.Equal(t, &wantHeroWidth, theme.HeroWidth)

	roundTripRes, err := s.OpenEnums.OpenEnumsPostUnrecognized(context.Background(), &shared.ThemeRequestOpaque{
		Color:     sdk.String(string(*theme.Color)),
		Icon:      sdk.String(string(*theme.Icon)),
		HeroWidth: sdk.Int64(int64(*theme.HeroWidth)),
	})
	require.NoError(t, err)

	roundTripBody := roundTripRes.ThemeResponse
	require.NotNil(t, body)

	roundTripTheme := roundTripBody.JSON
	wantColor = shared.Color("purple")
	require.Equal(t, &wantColor, roundTripTheme.Color)
	wantIcon = shared.IconTick
	require.Equal(t, &wantIcon, roundTripTheme.Icon)
	wantHeroWidth = shared.HeroWidth(2160)
	require.Equal(t, &wantHeroWidth, roundTripTheme.HeroWidth)
}
