/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

package org.openapis.openapi;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNotNull;

import org.junit.jupiter.api.Test;
import org.openapis.openapi.models.operations.GlobalPathParameterGetResponse;
import org.openapis.openapi.models.operations.GlobalsHeaderGetResponse;
import org.openapis.openapi.models.operations.GlobalsQueryParameterGetResponse;

public class GlobalsTests {
    @Test
    void testGlobalsQueryParameterGetUsesGlobal() throws Exception {
        CommonHelpers.recordTest("globals-query-parameter-get-uses-global");

        SDK s = SDK.builder().globalQueryParam("test").build();
        assertNotNull(s);

        GlobalsQueryParameterGetResponse res = s.globals().globalsQueryParameterGet().call();

        assertNotNull(res);
        assertEquals(200, res.statusCode());
        assertEquals("test", res.res().get().args().globalQueryParam());
    }

    @Test
    void testGlobalsQueryParameterGetUsesLocal() throws Exception {
        CommonHelpers.recordTest("globals-query-parameter-get-uses-local");

        SDK s = SDK.builder().globalQueryParam("test").build();
        assertNotNull(s);

        GlobalsQueryParameterGetResponse res =
                s.globals().globalsQueryParameterGet().globalQueryParam("local").call();

        assertNotNull(res);
        assertEquals(200, res.statusCode());
        assertEquals("local", res.res().get().args().globalQueryParam());
    }

    @Test
    void testGlobalPathParameterGetUsesGlobal() throws Exception {
        CommonHelpers.recordTest("globals-path-parameter-get-uses-global");

        SDK s = SDK.builder().globalPathParam(1L).build();
        assertNotNull(s);

        GlobalPathParameterGetResponse res = s.globals().globalPathParameterGet().call();

        assertNotNull(res);
        assertEquals(200, res.statusCode());
        assertEquals("http://localhost:35123/anything/globals/pathParameter/1",
                res.res().get().url());
    }

    @Test
    void testGlobalPathParameterGetUsesLocal() throws Exception {
        CommonHelpers.recordTest("globals-path-parameter-get-uses-local");

        SDK s = SDK.builder().globalPathParam(1L).build();
        assertNotNull(s);

        GlobalPathParameterGetResponse res =
                s.globals().globalPathParameterGet().globalPathParam(2L).call();

        assertNotNull(res);
        assertEquals(200, res.statusCode());
        assertEquals("http://localhost:35123/anything/globals/pathParameter/2",
                res.res().get().url());
    }

    @Test
    void testGlobalHeaderGetUsesGlobal() throws Exception {
        CommonHelpers.recordTest("globals-header-get-uses-global");

        SDK s = SDK.builder().globalHeaderParam(true).build();
        assertNotNull(s);

        GlobalsHeaderGetResponse res = s.globals().globalsHeaderGet().call();

        assertNotNull(res);
        assertEquals(200, res.statusCode());
        assertEquals("true", res.res().get().headers().get().get("Globalheaderparam"));
    }

    @Test
    void testGlobalHeaderGetUsesLocal() throws Exception {
        CommonHelpers.recordTest("globals-header-get-uses-local");

        SDK s = SDK.builder().globalHeaderParam(true).build();
        assertNotNull(s);

        GlobalsHeaderGetResponse res =
                s.globals().globalsHeaderGet().globalHeaderParam(false).call();

        assertNotNull(res);
        assertEquals(200, res.statusCode());
        assertEquals("false", res.res().get().headers().get().get("Globalheaderparam"));
    }
}
