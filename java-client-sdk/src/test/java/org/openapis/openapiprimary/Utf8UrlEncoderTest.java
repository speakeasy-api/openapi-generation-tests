/* 
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

package org.openapis.openapi;

import static org.junit.jupiter.api.Assertions.assertEquals;

import java.net.URLEncoder;
import java.nio.charset.StandardCharsets;

import org.junit.jupiter.api.Test;
import org.openapis.openapi.utils.Utf8UrlEncoder;

public class Utf8UrlEncoderTest {
    
    @Test
    public void testDefault() {
        StringBuilder b = new StringBuilder();
        for (int i = 0; i < 256; i++) {
            b.append((char) i);
        }
        String chars = b.toString();
        assertEquals(URLEncoder.encode(chars, StandardCharsets.UTF_8), //
                Utf8UrlEncoder.allowReserved(false).encode(chars).replace("%20", "+"));
    }
    
    @Test
    public void testAllowReserved() {
        assertEquals("http%3A%2F%2Fhellothere%2510%3F", Utf8UrlEncoder.DEFAULT.encode("http://hellothere%10?"));
        assertEquals("http://hellothere%2510?", Utf8UrlEncoder.ALLOW_RESERVED.encode("http://hellothere%10?"));
    }

}
