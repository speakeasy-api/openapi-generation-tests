/* 
 * Code generated by Speakeasy (https://speakeasyapi.com). DO NOT EDIT.
 */

package org.openapis.tertiary.openapi;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertNotNull;
import static org.junit.jupiter.api.Assertions.assertThrows;

import org.junit.jupiter.api.Test;

import org.openapis.openapi.CommonHelpers;
import org.openapis.tertiary.openapi.models.errors.SDKError;
import org.openapis.tertiary.openapi.models.operations.NoAuthResponse;
import org.openapis.tertiary.openapi.models.operations.ApiKeyAuthGlobalResponse;

public class AuthTests {
    @Test
    void testNoAuth() throws Exception {
        CommonHelpers.recordTest("auth-no-auth");

        SDK s = SDK.builder().build();
        assertNotNull(s);

        NoAuthResponse res = s.auth().noAuthDirect();

        assertNotNull(res);
        assertEquals(200, res.statusCode());
    }

    @Test
    void testApiKeyAuthGlobal() throws Exception {
        CommonHelpers.recordTest("auth-api-key-auth-global");

        SDK s = SDK.builder().build();
        assertNotNull(s);

        SDKError error = assertThrows(SDKError.class, () -> {
            ApiKeyAuthGlobalResponse res = s.auth().apiKeyAuthGlobalDirect();
        });

        assertEquals("API error occurred", error.message());
        assertEquals(401, error.code());
    }
}
