<?php

/**
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

declare(strict_types=1);

namespace OpenAPI\OpenAPI\Tests;

use OpenAPI\OpenAPI\Models\Errors\SDKException;
use OpenAPI\OpenAPI\Tests\CommonHelpers;
use PHPUnit\Framework\TestCase;


final class AuthTest extends TestCase
{
    public function testNoAuth(): void
    {
        CommonHelpers::recordTest('auth-no-auth');

        $sdk = \OpenAPI\OpenAPI\SDK::builder()->build();

        $this->assertInstanceOf(\OpenAPI\OpenAPI\SDK::class, $sdk);

        $response = $sdk->auth->noAuth();

        $this->assertNotNull($response);
        $this->assertEquals(200, $response->statusCode);
    }

    public function testApiKeyAuthGlobal(): void
    {
        CommonHelpers::recordTest('auth-api-key-auth-global');

        $sdk = \OpenAPI\OpenAPI\SDK::builder()->build();

        $this->assertInstanceOf(\OpenAPI\OpenAPI\SDK::class, $sdk);

        $this->expectException(SDKException::class);
        $this->expectExceptionCode(401);

        $response = $sdk->auth->apiKeyAuthGlobal();

    }

}
