"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

import httpx
import datetime

from openapi.sdk import SDK
from openapi.models import shared
from .common_helpers import record_test


def test_customclient_post():
    record_test("customclient-request-parameters-retained")

    http_client = httpx.Client()
    http_client.headers.update({"x-Custom-header": "someValue"})

    s = SDK(client=http_client)
    assert s is not None

    res = s.custom_client.custom_client_post(
        header_param="headerValue",
        path_param="pathValue",
        query_string_param="queryValue",
        any_="anyValue",
        bool_=True,
        date_=datetime.date(2021, 1, 1),
        date_time=datetime.datetime(2021, 1, 1, 0, 0),
        enum="two",
        float32=3.14,
        int_=42,
        int32=42,
        int32_enum=55,
        int_enum=shared.IntEnum.FIRST,
        num=3.14,
        str_="strValue",
    )
    assert res is not None
    assert res.http_meta is not None
    assert res.http_meta.response is not None
    assert res.http_meta.response.status_code == 200
    assert res.res is not None
    assert (
        res.res.url
        == "http://localhost:35123/anything/customClient/pathValue?queryStringParam=queryValue"
    )
    assert res.res.args.query_string_param == "queryValue"
    assert res.res.headers["Headerparam"] == "headerValue"
    assert res.res.headers["X-Custom-Header"] == "someValue"
