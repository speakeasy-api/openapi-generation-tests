"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

import openapi.models.shared as shared
from openapi import SDK
from openapi.models.operations import *

from .common_helpers import *
from .test_helpers import *


def test_open_enums_round_trip():
    record_test("open-enums-round-trip-string-union")

    s = SDK()
    assert s is not None

    res = s.open_enums.open_enums_post_unrecognized(
        request=shared.ThemeRequestOpaque(
            color="purple",
            icon="tick",
            hero_width=2160,
        )
    )
    assert res is not None
    assert res.http_meta is not None
    assert res.http_meta.response is not None
    assert res.http_meta.response.status_code == 200

    body = res.theme_response
    assert body is not None

    theme = body.json_
    assert theme is not None
    assert theme.color == "purple"
    assert theme.icon == "tick"
    assert theme.hero_width == 2160

    rt_res = s.open_enums.open_enums_post_unrecognized(
        request=shared.ThemeRequestOpaque(
            color=theme.color,
            icon=theme.icon,
            hero_width=theme.hero_width,
        )
    )
    assert rt_res is not None
    assert rt_res.http_meta is not None
    assert rt_res.http_meta.response is not None
    assert rt_res.http_meta.response.status_code == 200

    rt_body = rt_res.theme_response
    assert rt_body is not None

    rt_theme = rt_body.json_
    assert rt_theme is not None
    assert rt_theme.color == "purple"
    assert rt_theme.icon == "tick"
    assert rt_theme.hero_width == 2160
