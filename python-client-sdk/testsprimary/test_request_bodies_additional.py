"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

import os

from openapi import SDK
from openapi.models.operations import *
from openapi.models.shared import *
from openapi.types import UNSET

from .common_helpers import *
from .test_helpers import *


def test_request_body_put_multipart_file():
    record_test("request-bodies-put-multipart-file")

    s = SDK()
    assert s is not None

    f = open(os.path.dirname(__file__) + "/testUpload.json", mode="rb")
    data = f.read()

    res = s.request_bodies.request_body_put_multipart_file(
        request=RequestBodyPutMultipartFileRequestBody(
            file=File(content=data, file_name="testUpload.json")
        )
    )

    assert res is not None
    assert res.http_meta is not None
    assert res.http_meta.response is not None
    assert res.http_meta.response.status_code == 200
    assert res.res is not None
    assert res.res.files == {"file": data.decode("utf-8")}


def test_request_body_put_bytes():
    record_test("request-bodies-put-bytes")

    s = SDK()
    assert s is not None

    f = open(os.path.dirname(__file__) + "/testUpload.json", mode="rb")
    data = f.read()
    res = s.request_bodies.request_body_put_bytes(request=data)

    assert res is not None
    assert res.http_meta is not None
    assert res.http_meta.response is not None
    assert res.http_meta.response.status_code == 200
    assert res.res is not None
    assert res.res.data == data.decode("utf-8")
