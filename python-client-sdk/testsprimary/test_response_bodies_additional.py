"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from openapi import SDK
from openapi.models.operations import *
from openapi.utils import *

from .common_helpers import *
from .test_helpers import *


def test_response_body_bytes_get():
    record_test("response-bodies-bytes-get")

    s = SDK()
    assert s is not None

    res = s.response_bodies.response_body_bytes_get()

    assert res is not None
    assert res.http_meta is not None
    assert res.http_meta.response is not None
    assert res.http_meta.response.status_code == 200
    assert res.bytes is not None
    calculated_content = bytes().join(res.bytes.iter_bytes())
    assert len(calculated_content) == 100
    res.bytes.close()


def test_response_bodies_empty_with_headers():
    record_test("response-bodies-empty-with-headers")

    s = SDK()
    assert s is not None

    res = s.response_bodies.response_body_empty_with_headers(
        x_number_header=1.1, x_string_header="hello"
    )

    assert res is not None
    assert res.http_meta is not None
    assert res.http_meta.response is not None
    assert res.http_meta.response.status_code == 200
    assert res.headers is not None
    string_header = res.headers.get("x-string-header")
    assert string_header is not None
    assert string_header[0] == "hello"
    number_header = res.headers.get("x-number-header")
    assert number_header is not None
    assert number_header[0] == "1.1"
