// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

import XCTest
@testable import OpenAPI

class AuthTests: XCTestCase {
    // Bit of a hack but do this once in a class-based test setup function so this is run once for the entire test suite.
    // Doesn't work if only single test classes are run.
    override class func setUp() {
        do {
            try resetTestRecords()
        } catch {
            print("Couldn't reset test record file")
        }
    }

    func testNoAuth() async throws {
        try recordTest(named: "auth-no-auth")

        let client = Client()
        let response = try await client.auth.noAuth()
        XCTAssertEqual(response.statusCode, 200, "Request should succeed")
    }

    func testAPIKeyAuthGlobal() async throws {
        try recordTest(named: "auth-api-key-auth-global")
        

        /* TODO: Crashes on Linux (works fine on macOS), SIGILL "Exited with signal code 4"
        let client = Client()
        let response = try await client.auth.apiKeyAuthGlobal()
        XCTAssertEqual(response.statusCode, 401, "Expected status 401")
        */  
    }
}
