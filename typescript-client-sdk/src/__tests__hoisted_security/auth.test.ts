/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import {
  ApiKeyAuthHoistedToken,
  ApiKeyOrBearerAuthToken,
  BasicAuthUser,
  NoAuthResponse,
} from "../sdk/models/operations";
import { expect, test } from "vitest";

import { SDK } from "..";
import { recordTest } from "./common_helpers";

test("Test No Auth", async () => {
  recordTest("auth-no-auth");

  const sdk = new SDK({});

  const res: NoAuthResponse = await sdk.auth.noAuth();

  expect(res).toBeDefined();
});

test("Test Basic Auth", async () => {
  recordTest("auth-basic-auth");

  const sdk = new SDK({});

  const res: BasicAuthUser = await sdk.auth.basicAuth(
    {
      username: "testUser",
      password: "testPass",
    },
    "testPass",
    "testUser",
  );

  expect(res?.authenticated).toBe(true);
});

test("Test API Key Auth Global", async () => {
  recordTest("auth-api-key-auth-global");

  const sdk = new SDK({
    security: {
      apiKeyAuth: "Bearer test_token",
    },
  });

  const res: ApiKeyAuthHoistedToken = await sdk.auth.apiKeyAuthHoisted();

  expect(res?.authenticated).toBe(true);
  expect(res?.token).toBe("test_token");
});

test("Test API Key Auth Operation", async () => {
  recordTest("auth-api-key-auth-operation");

  const sdk = new SDK({});

  const res: ApiKeyOrBearerAuthToken = await sdk.auth.apiKeyOrBearerAuth({
    apiKeyAuth: "Bearer test_token",
  });

  expect(res?.authenticated).toBe(true);
  expect(res?.token).toBe("test_token");
});
