/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { expect, test } from "vitest";

import { SDK } from "..";
import { SDKError } from "../sdk/models/errors";
import { recordTest } from "./common_helpers";

test("Test No Auth", async () => {
  recordTest("auth-no-auth");

  const sdk = new SDK({});

  const res = await sdk.auth.noAuth();

  expect(res.statusCode).toBe(200);
});

test("Test API Key Auth Global", async () => {
  recordTest("auth-api-key-auth-global");

  const sdk = new SDK();

  try {
    await sdk.auth.apiKeyAuthGlobal();

    expect.unreachable(
      "Unexpected API response status or content-type: Status 401 Content-Type application/json",
    );
  } catch (e) {
    expect(e).toBeInstanceOf(SDKError);

    const sdkErr = e as SDKError;
    expect(sdkErr.statusCode).toBe(401);
  }
});
