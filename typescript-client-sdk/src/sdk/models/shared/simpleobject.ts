/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { Decimal as Decimal$, RFCDate } from "../../types";
import { Enum, Enum$ } from "./enum";
import * as z from "zod";

/**
 * An int32 enum property.
 */
export enum Int32Enum {
    FiftyFive = 55,
    SixtyNine = 69,
    OneHundredAndEightyOne = 181,
}

/**
 * An integer enum property.
 */
export enum IntEnum {
    First = 1,
    Second = 2,
    Third = 3,
}

/**
 * A simple object that uses all our supported primitive types and enums and has optional properties.
 *
 * @see {@link https://docs.speakeasyapi.dev} - A link to the external docs.
 */
export type SimpleObject = {
    /**
     * A boolean property.
     */
    bool: boolean;
    /**
     * A date property.
     */
    date: RFCDate;
    /**
     * A date-time property.
     */
    dateTime: Date;
    /**
     * A string based enum
     */
    enum: Enum;
    /**
     * A float32 property.
     */
    float32: number;
    /**
     * An integer property.
     */
    int: number;
    /**
     * An int32 property.
     */
    int32: number;
    /**
     * An int32 enum property.
     */
    int32Enum: Int32Enum;
    /**
     * An integer enum property.
     */
    intEnum: IntEnum;
    /**
     * A number property.
     */
    num: number;
    /**
     * A string property.
     */
    str: string;
    /**
     * An any property.
     */
    any?: any | undefined;
    bigint?: bigint | undefined;
    bigintStr?: bigint | undefined;
    /**
     * An optional boolean property.
     */
    boolOpt?: boolean | undefined;
    decimal?: Decimal$ | number | undefined;
    decimalStr?: Decimal$ | number | undefined;
    /**
     * An optional integer property will be null for tests.
     */
    intOptNull?: number | undefined;
    /**
     * An optional number property will be null for tests.
     */
    numOptNull?: number | undefined;
    /**
     * An optional string property.
     */
    strOpt?: string | undefined;
};

/** @internal */
export const Int32Enum$ = z.nativeEnum(Int32Enum);

/** @internal */
export const IntEnum$ = z.nativeEnum(IntEnum);

/** @internal */
export namespace SimpleObject$ {
    export type Inbound = {
        bool: boolean;
        date: string;
        dateTime: string;
        enum: Enum;
        float32: number;
        int: number;
        int32: number;
        int32Enum: Int32Enum;
        intEnum: IntEnum;
        num: number;
        str: string;
        any?: any | undefined;
        bigint?: number | undefined;
        bigintStr?: string | undefined;
        boolOpt?: boolean | undefined;
        decimal?: number | undefined;
        decimalStr?: string | undefined;
        intOptNull?: number | undefined;
        numOptNull?: number | undefined;
        strOpt?: string | undefined;
    };

    export const inboundSchema: z.ZodType<SimpleObject, z.ZodTypeDef, Inbound> = z
        .object({
            bool: z.boolean(),
            date: z.string().transform((v) => new RFCDate(v)),
            dateTime: z
                .string()
                .datetime({ offset: true })
                .transform((v) => new Date(v)),
            enum: Enum$,
            float32: z.number(),
            int: z.number().int(),
            int32: z.number().int(),
            int32Enum: Int32Enum$,
            intEnum: IntEnum$,
            num: z.number(),
            str: z.string(),
            any: z.any().optional(),
            bigint: z
                .number()
                .transform((v) => BigInt(v))
                .optional(),
            bigintStr: z
                .string()
                .transform((v) => BigInt(v))
                .optional(),
            boolOpt: z.boolean().optional(),
            decimal: z
                .number()
                .transform((v) => new Decimal$(v))
                .optional(),
            decimalStr: z
                .string()
                .transform((v) => new Decimal$(v))
                .optional(),
            intOptNull: z.number().int().optional(),
            numOptNull: z.number().optional(),
            strOpt: z.string().optional(),
        })
        .transform((v) => {
            return {
                bool: v.bool,
                date: v.date,
                dateTime: v.dateTime,
                enum: v.enum,
                float32: v.float32,
                int: v.int,
                int32: v.int32,
                int32Enum: v.int32Enum,
                intEnum: v.intEnum,
                num: v.num,
                str: v.str,
                ...(v.any === undefined ? null : { any: v.any }),
                ...(v.bigint === undefined ? null : { bigint: v.bigint }),
                ...(v.bigintStr === undefined ? null : { bigintStr: v.bigintStr }),
                ...(v.boolOpt === undefined ? null : { boolOpt: v.boolOpt }),
                ...(v.decimal === undefined ? null : { decimal: v.decimal }),
                ...(v.decimalStr === undefined ? null : { decimalStr: v.decimalStr }),
                ...(v.intOptNull === undefined ? null : { intOptNull: v.intOptNull }),
                ...(v.numOptNull === undefined ? null : { numOptNull: v.numOptNull }),
                ...(v.strOpt === undefined ? null : { strOpt: v.strOpt }),
            };
        });

    export type Outbound = {
        bool: boolean;
        date: string;
        dateTime: string;
        enum: Enum;
        float32: number;
        int: number;
        int32: number;
        int32Enum: Int32Enum;
        intEnum: IntEnum;
        num: number;
        str: string;
        any?: any | undefined;
        bigint?: number | undefined;
        bigintStr?: string | undefined;
        boolOpt?: boolean | undefined;
        decimal?: number | undefined;
        decimalStr?: string | undefined;
        intOptNull?: number | undefined;
        numOptNull?: number | undefined;
        strOpt?: string | undefined;
    };

    export const outboundSchema: z.ZodType<Outbound, z.ZodTypeDef, SimpleObject> = z
        .object({
            bool: z.boolean(),
            date: z.instanceof(RFCDate).transform((v) => v.toString()),
            dateTime: z.date().transform((v) => v.toISOString()),
            enum: Enum$,
            float32: z.number(),
            int: z.number().int(),
            int32: z.number().int(),
            int32Enum: Int32Enum$,
            intEnum: IntEnum$,
            num: z.number(),
            str: z.string(),
            any: z.any().optional(),
            bigint: z
                .bigint()
                .transform((v) => Number(v))
                .optional(),
            bigintStr: z
                .bigint()
                .transform((v) => `${v}`)
                .optional(),
            boolOpt: z.boolean().optional(),
            decimal: z
                .union([z.instanceof(Decimal$), z.number()])
                .transform((v) => (typeof v === "number" ? v : v.toNumber()))
                .optional(),
            decimalStr: z
                .union([z.instanceof(Decimal$), z.number()])
                .transform((v) => `${v}`)
                .optional(),
            intOptNull: z.number().int().optional(),
            numOptNull: z.number().optional(),
            strOpt: z.string().optional(),
        })
        .transform((v) => {
            return {
                bool: v.bool,
                date: v.date,
                dateTime: v.dateTime,
                enum: v.enum,
                float32: v.float32,
                int: v.int,
                int32: v.int32,
                int32Enum: v.int32Enum,
                intEnum: v.intEnum,
                num: v.num,
                str: v.str,
                ...(v.any === undefined ? null : { any: v.any }),
                ...(v.bigint === undefined ? null : { bigint: v.bigint }),
                ...(v.bigintStr === undefined ? null : { bigintStr: v.bigintStr }),
                ...(v.boolOpt === undefined ? null : { boolOpt: v.boolOpt }),
                ...(v.decimal === undefined ? null : { decimal: v.decimal }),
                ...(v.decimalStr === undefined ? null : { decimalStr: v.decimalStr }),
                ...(v.intOptNull === undefined ? null : { intOptNull: v.intOptNull }),
                ...(v.numOptNull === undefined ? null : { numOptNull: v.numOptNull }),
                ...(v.strOpt === undefined ? null : { strOpt: v.strOpt }),
            };
        });
}
